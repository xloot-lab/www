(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75014091"],{"4c41":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home wrapper"},[n("div",{staticClass:"home-list-box"},[n("h4",{staticClass:"list-title",staticStyle:{"margin-bottom":"30px","margin-top":"20px",color:"#fff"}},[e._v("Pending BNB ")]),n("a-button",{staticStyle:{"border-radius":"17px",height:"34px","margin-left":"20px"},attrs:{loading:e.excuting,type:"primary",size:"large"},on:{click:e.claim}},[e._v("Claim "+e._s(e.left)+" BNB ")]),n("h4",{staticClass:"list-title",staticStyle:{"margin-bottom":"30px","margin-top":"20px",color:"#fff"}},[e._v("My xLoot ("+e._s(e.count)+")")]),n("a-row",{attrs:{gutter:18}},e._l(e.markets,(function(t,r){return n("a-col",{key:r,attrs:{xs:24,sm:24,md:24,lg:8}},[n("div",{staticClass:"list-box"},[n("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between","padding-right":"15px"}},[n("p"),n("p",{staticStyle:{"font-size":"16px"}},[e._v("#"+e._s(t.idx))])]),n("img",{attrs:{src:t.icon}}),n("div",{staticStyle:{display:"flex","align-items":"center","flex-direction":"row","justify-content":"space-between","margin-top":"-20px","margin-bottom":"10px"}},[n("span",{staticStyle:{"font-size":"15px",color:"#fff","font-weight":"500"}},[e._v("Price: "+e._s(t.xprice)+" BNB")]),n("div",{staticClass:"add-btn",on:{click:function(n){return e.buy(t)}}},[e._v("Sell")])])])])})),1),n("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticStyle:{margin:"10px"}}),n("a-modal",{attrs:{title:"Sell"},on:{ok:e.handleOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("a-input",{attrs:{placeholder:"Input sell price"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1)],1)])},a=[],i=n("1da1"),s=(n("96cf"),n("b680"),n("ac1f"),n("5319"),n("e762")),o=n("901e"),c=n.n(o),l={name:"Home",components:{},data:function(){return{visible:!1,count:0,price:"",left:0,loading:!0,markets:[]}},computed:{address:function(){return this.$store.state.address}},watch:{address:function(){this.address&&this.getInfo()}},mounted:function(){this.address&&this.getInfo()},methods:{getInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.address,r=new e.$store.state.web.eth.Contract(window.xlootabi,window.xlootaddr),t.next=4,r.methods.balanceOf(n).call();case 4:return e.count=t.sent,t.next=7,r.methods.pendingWithdrawals(n).call();case 7:if(a=t.sent,e.left=c()(a).dividedBy(1e18).toFixed(2),0!=e.count){t.next=12;break}return e.loading=!1,t.abrupt("return");case 12:i=1;case 13:if(!(i<=8e3)){t.next=37;break}return t.prev=14,t.next=17,r.methods.ownerOf(i).call();case 17:if(o=t.sent,o.toLowerCase()!=n.toLowerCase()){t.next=30;break}return t.next=21,r.methods.tokenURI(i).call();case 21:return l=t.sent,l=l.replace("data:application/json;base64,",""),d=JSON.parse(Object(s["a"])(l)),t.next=26,r.methods.OfferedForSale(i).call();case 26:if(u=t.sent,1==u[0]?e.markets.push({idx:i,icon:d.image,seller:u[2],price:u[3],xprice:c()(u[3]).dividedBy(1e18).toFixed(2)}):e.markets.push({idx:i,icon:d.image,seller:"",price:0,xprice:0}),!(e.markets.length>=e.count)){t.next=30;break}return t.abrupt("break",37);case 30:t.next=34;break;case 32:t.prev=32,t.t0=t["catch"](14);case 34:i++,t.next=13;break;case 37:e.loading=!1;case 38:case"end":return t.stop()}}),t,null,[[14,32]])})))()},claim:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.excuting=!0,n=new e.$store.state.web.eth.Contract(window.xlootabi,window.xlootaddr),t.next=5,n.methods.withdraw().send({from:e.$store.state.address});case 5:e.excuting=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.excuting=!1;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},buy:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.item=e,t.visible=!0;case 2:case"end":return n.stop()}}),n)})))()},handleOk:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.price){t.next=6;break}return n=c()(e.price).multipliedBy(1e18).toFixed(0),e.visible=!1,r=new e.$store.state.web.eth.Contract(window.xlootabi,window.xlootaddr),t.next=6,r.methods.offerForSale(e.item.idx,n).send({from:e.$store.state.address});case 6:case"end":return t.stop()}}),t)})))()}}},d=l,u=(n("af01"),n("2877")),p=Object(u["a"])(d,r,a,!1,null,null,null);t["default"]=p.exports},7265:function(e,t,n){},af01:function(e,t,n){"use strict";n("7265")}}]);